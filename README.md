# rice_information_api

ทำการรันไฟล์โดยตรง ----------------------------------------------------------------------------------

    - 1.ทำการลง Package ตามที่ "requirements.txt" ได้ระบุไว้ 
        (โดยสามารถรัน "pip install -r requirements.txt" ได้โดยตรง)

    - 2.ทำการรันโดยใช้คำสั่ง 
        1.  ".\env\Scripts\activate "   เปิดการใช้งาน env
        2.   "py main.py"               สั่งเปิดใช้งาน API


    ส่วนของโปรแกรมจะติดตั้ง Database ชื่อ "Softnix2024" 
    และสร้าง Collection ภายใน 2 ตัวประกอบด้วย 
        - "rice_information"
        - "user" 
    โดยจะนำข้อมูลเมล็ดข้าวทั้งหมดเข้าไปใน Collection : "rice_information" อัตโนมัติ โดยอ้างอิงจากไฟล์ CSV จาก Path "./CSV/37176......csv"
    และเพิ่มข้อมูลผู้ใช้ Admin ไปที่ Collection : "user" อัตโนมัติ 


คู่มือ -----------------------------------------------------------------------------------------------

    - 1.ให้ทำการไปที่ "http://127.0.0.1:5000/apidocs/" เพื่อใช้ "Swagger API"

    - 2.ทำการไปที่ POST ตรงส่วนของ "/login" (*** สำคัญ : เพื่อรับ Token ที่ Genarate ออกมา) 
        - ใส่ username เป็น "admin"
        - ใส่ password เป็น "1234"
        (หลังจากนี้คัดลอก Token ที่ได้เพื่อใช้ในการอ้างอิงในระหว่างใช้งาน API)

    - 3.หลังจากได้ Token สามารถนำไปใช้ในการเรียกใช้งาน API ทุกๆ รายการ โดยจำเป็นต้องแนบ Token ไปกับทุกคำขอ


    **** Token จะมีอายุเพียง 1 ชั่วโมง และควรทำการสร้าง Token ใหม่เมื่อ Token เก่าหมดอายุ ****

คำอธิบาย API --------------------------------------------------------------------------------------

    POST : /login 
        - ใช้ในยืนยันตัวตนเพื่อรับ Token มาใช้ในการอ้างอิงกับ API ทุกตัวโดยใช้ username และ password ในการระบุตัวตน และเข้ารหัสด้วย Sha512

    GET : /allproducts 
        - ใช้ในการดูข้อมูลทั้งหมดของเมล็ดข้าวในฐานข้อมูล

    GET : /products
        - ใช้ในการดูข้อมูลเมล็ดข้าวที่ต้องการโดยอ้างอิงจาก "id_rice" เพื่อดูข้อมูลนั้นๆทีละตัว

    POST : /products 
        - ใช้ในการเพิ่มข้อมูลเมล็ดข้าว โดยหากมีข้อมูลแล้วจะไม่สามารถเพิ่มข้อมูลเดิมได้

    PUT : /products 
        - ใช้ในการปรับข้อมูลเมล็ดข้าวให้เป็นปัจจุบันโดยอ้างอิงจาก "id_rice" เพื่อแก้ไขข้อมูลนั้นๆทีละตัว

    DELETE : /products 
        - ใช้ในการลบข้อมูลเมล็ดข้าวที่ต้องการโดยอ้างอิงจาก "id_rice"
